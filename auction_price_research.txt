================================================================================
BLAZE & BLADE - AUCTION PRICE RESEARCH
================================================================================

OBJECTIVE:
Find where auction prices are stored for items in BLAZE.ALL

KNOWN PRICES PROVIDED BY USER:
- Shortsword: 22
- Leather Armor: 36
- Healing Potion: 10
- Dagger: 28
- Wooden Wand: 24
- Robe: 72
- Normal Sword: 24
- Leather Shield: 46
- Tomahawk: 26

================================================================================
ITEM STRUCTURE DISCOVERED IN BLAZE.ALL
================================================================================

Each item has a 640-byte structure with:
- +0x00-0x0F: Item name (16 bytes, null-padded ASCII)
- +0x12-0x13: Item ID (little-endian word)
- +0x2E, +0x30, +0x32, +0x34, +0x36, +0x38, +0x3A, +0x3C, +0x3E: Stat modifiers
- +0x86-0x87: Category ID (category * 1000 + index)
- +0x88: Suspected base price byte

ITEM LOCATIONS FOUND:
- Normal Sword: 0x006C6800
- Leather Armor: 0x006C6A80
- Leather Shield: 0x006C6D00
- Healing Potion: 0x006C6F80 (41 occurrences total)
- Dagger: 0x006CA800 (13 occurrences total)
- Shortsword: 0x006D0800

================================================================================
THEORY #1 - TESTED AND FAILED
================================================================================

Formula: Price = byte at +0x88 + (sum of stat bytes at +0x2E to +0x3E) * 2

Validation against known prices:
- Shortsword: +0x88=10, stats sum=6 -> 10 + 6*2 = 22 (MATCHES)
- Leather Armor: +0x88=16, stats sum=10 -> 16 + 10*2 = 36 (MATCHES)
- Healing Potion: +0x88=10, stats sum=0 -> 10 + 0 = 10 (MATCHES)
- Dagger: +0x88=8, stats sum=10 -> 8 + 10*2 = 28 (MATCHES)
- Normal Sword: +0x88=8, stats sum=8 -> 8 + 8*2 = 24 (MATCHES)
- Leather Shield: +0x88=22, stats sum=12 -> 22 + 12*2 = 46 (MATCHES)
- Tomahawk: +0x88=6, stats sum=10 -> 6 + 10*2 = 26 (MATCHES)
- Wooden Wand: +0x88=12, stats sum=6 -> 12 + 6*2 = 24 (MATCHES)
- Robe: +0x88=50, stats sum=11 -> 50 + 11*2 = 72 (MATCHES)

All 9 prices matched the formula perfectly!

MODIFICATIONS APPLIED:
- Shortsword (1 occurrence): +0x88 changed from 10 to 50 -> Expected price: 62
- Dagger (13 occurrences): +0x2E changed from 4 to 25 -> Expected price: 70
- Healing Potion (41 occurrences): +0x88 changed from 10 to 99 -> Expected price: 99

RESULT: Prices did NOT change in-game

================================================================================
POSSIBLE REASONS FOR FAILURE
================================================================================

1. PRICES NOT IN BLAZE.ALL
   - Auction prices might be calculated/stored elsewhere
   - Could be in SLES_008.45 (executable) or another file
   - The formula matching could be coincidental

2. CACHING
   - Game might cache item data at startup
   - Modified data might not be re-read

3. MULTIPLE DATA SOURCES
   - Game might read prices from a different location
   - BLAZE.ALL structure we found might be for display/stats only

4. WRONG FILE PATCHED
   - The BIN might have other copies of price data
   - patch_blaze_all.py patches LBA 163167 and 185765
   - Price data could be at different LBAs

5. FORMULA IS FOR DIFFERENT PURPOSE
   - The formula might calculate something else (sell price, value, etc.)
   - Auction price might be hardcoded or use different calculation

================================================================================
NEXT STEPS TO TRY
================================================================================

1. Search for price values directly in SLES_008.45 executable
2. Search for price tables (sequences like 22,36,10,28...)
3. Use memory viewer while game runs to find where prices are loaded
4. Check if there are other data files on the disc
5. Compare BLAZE.ALL sections more thoroughly for duplicate structures
6. Look for LUT (lookup tables) that might map item IDs to prices

================================================================================
FILES MODIFIED (NOW REVERTED)
================================================================================

- work/BLAZE.ALL - Modified then restored from backup
- work/Blaze & Blade - Patched.bin - Re-patched with original BLAZE.ALL

================================================================================
